# Fungsi file: Menyediakan template variabel lingkungan untuk setup lokal maupun deployment.
# ============================================================
# Cashflowpoly Analytics Platform - Environment Variables
# Salin file ini ke .env dan isi nilainya.
#   cp .env.example .env
# ============================================================

# ---------- PostgreSQL ----------
POSTGRES_DB=cashflowpoly
POSTGRES_USER=cashflowpoly
POSTGRES_PASSWORD=GANTI_DENGAN_PASSWORD_KUAT
POSTGRES_PORT=5432

# ---------- API ----------
API_ASPNETCORE_ENVIRONMENT=Production
API_HTTP_PORT=5041
# Opsi transisi (default nonaktif): aktifkan rewrite /api/* -> /api/v1/*
LEGACY_API_COMPATIBILITY=false

# ---------- UI ----------
UI_ASPNETCORE_ENVIRONMENT=Production
UI_HTTP_PORT=5203

# ---------- Production Image Deployment ----------
# Dipakai oleh docker-compose.prod.yml (image-based deploy dari GHCR)
API_IMAGE_REPO=ghcr.io/marcellohugo/cashflowpoly-analytics-platform/api
UI_IMAGE_REPO=ghcr.io/marcellohugo/cashflowpoly-analytics-platform/ui
IMAGE_TAG=latest
# Opsional: isi jika package GHCR private
GHCR_REGISTRY=ghcr.io
GHCR_USERNAME=
GHCR_TOKEN=

# ---------- JWT ----------
# Minimal 32 karakter, bisa di-generate: openssl rand -base64 48
JWT_SIGNING_KEY=GANTI_DENGAN_SIGNING_KEY_MINIMAL_32_KARAKTER
JWT_ACTIVE_KEY_ID=legacy
# Opsional: multi-key rotation
# JWT_SIGNING_KEYS_JSON=
# JWT_SIGNING_KEY_FILE=
# JWT_SIGNING_KEYS_FILE=

# ---------- Auth Bootstrap (seed user pertama kali) ----------
# Registrasi publik untuk semua role (INSTRUCTOR dan PLAYER) aktif secara default.
AUTH_BOOTSTRAP_SEED_DEFAULT_USERS=true
AUTH_BOOTSTRAP_INSTRUCTOR_USERNAME=admin
AUTH_BOOTSTRAP_INSTRUCTOR_PASSWORD=GANTI_PASSWORD_INSTRUCTOR
AUTH_BOOTSTRAP_PLAYER_USERNAME=player1
AUTH_BOOTSTRAP_PLAYER_PASSWORD=GANTI_PASSWORD_PLAYER

# ---------- Nginx / Domain ----------
# Domain atau IP publik yang digunakan (untuk Nginx & CORS)
DOMAIN=localhost
# Untuk production dengan SSL, set ke true
ENABLE_SSL=false

# ---------- Cloudflare Tunnel ----------
# Agar API & UI bisa diakses dari mana saja tanpa static IP.
# Setup:
#   1. cloudflared tunnel login
#   2. cloudflared tunnel create cashflowpoly
#   3. cloudflared tunnel route dns cashflowpoly subdomain.yourdomain.com
#   4. Copy token yang muncul ke sini:
CLOUDFLARE_TUNNEL_TOKEN=

